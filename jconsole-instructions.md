# Инструкция по использованию JConsole для мониторинга MBean

## Запуск JConsole

1. Сначала убедитесь, что приложение запущено и работает.
2. Откройте терминал или командную строку.
3. Введите команду `jconsole` и нажмите Enter. JConsole входит в состав JDK, поэтому должен быть доступен, если у вас установлен JDK.

## Подключение к приложению

1. После запуска JConsole откроется окно "JConsole: Connection".
2. В разделе "Local Process" выберите ваше Java-приложение из списка (обычно оно отображается как "app.war" или содержит имя главного класса).
3. Нажмите кнопку "Connect".

## Мониторинг MBean-объектов

1. После подключения к приложению перейдите на вкладку "MBeans" в верхней части окна JConsole.
2. В дереве MBean найдите раздел "ru.itmo.app.mbean".
3. Разверните этот раздел, чтобы увидеть созданные MBean-объекты:
   - PointStatistics
   - ClickInterval

## Просмотр атрибутов PointStatisticsMBean

1. Разверните узел "PointStatistics" в дереве MBean.
2. Выберите "Attributes", чтобы просмотреть атрибуты:
   - totalPoints - общее число установленных пользователем точек
   - pointsInArea - число точек, попадающих в область
   - consecutiveMisses - текущее количество промахов подряд

3. Значения атрибутов будут отображаться в правой части окна.
4. Нажимайте кнопку "Refresh" для обновления значений после добавления новых точек.

## Просмотр атрибутов ClickIntervalMBean

1. Разверните узел "ClickInterval" в дереве MBean.
2. Выберите "Attributes", чтобы просмотреть атрибуты:
   - averageInterval - средний интервал между кликами пользователя (в миллисекундах)
   - lastInterval - последний интервал между кликами
   - clickCount - общее количество зарегистрированных кликов
   - intervalCount - количество интервалов между кликами

3. Значения атрибутов будут отображаться в правой части окна.
4. Нажимайте кнопку "Refresh" для обновления значений после совершения новых кликов.

## Отслеживание уведомлений

1. Разверните узел "PointStatistics" в дереве MBean.
2. Выберите вкладку "Notifications".
3. Нажмите кнопку "Subscribe", чтобы начать получать уведомления.
4. Установите несколько точек, которые не попадают в область (постарайтесь сделать 4 промаха подряд).
5. В списке уведомлений будут отображаться сообщения о 4-х промахах подряд.

## Определение потоков приложения

1. Перейдите на вкладку "Threads" в верхней части окна JConsole.
2. Вы увидите список всех активных потоков в приложении с их именами и состояниями.
3. Запишите имена всех потоков, выполняющихся при запуске программы.
4. Для получения дополнительной информации о потоке выберите его в списке. В нижней части окна будет отображен стек вызовов этого потока.

## Мониторинг производительности

1. Перейдите на вкладку "Memory" для мониторинга использования памяти.
2. Перейдите на вкладку "CPU" для мониторинга загрузки процессора.
3. Перейдите на вкладку "Classes" для мониторинга загруженных классов.

## Советы по использованию

1. Регулярно обновляйте значения, нажимая кнопку "Refresh" для получения актуальных данных.
2. Для непрерывного мониторинга используйте опцию "Update interval" в настройках JConsole.
3. Если вы не видите ожидаемых изменений в атрибутах, убедитесь, что выполняете действия в приложении (добавляете точки).
4. Если MBean-объекты не отображаются, проверьте, правильно ли настроена регистрация MBean в вашем приложении.

## Завершение работы

1. После завершения мониторинга закройте JConsole, нажав кнопку "Close" или "X" в заголовке окна.
2. Это не повлияет на работу вашего приложения, которое продолжит выполняться. 