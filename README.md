# Лабораторная работа #4

## Задание

1. **Для своей программы из лабораторной работы № 3 по дисциплине «Веб-программирование» реализовать:**
   - MBean, считающий общее число установленных пользователем точек, а также число точек, попадающих в область.  
     В случае, если пользователь совершил 4 «промаха» подряд, разработанный MBean должен отправлять оповещение об этом событии.  
   - MBean, определяющий средний интервал между кликами пользователя по координатной плоскости.

2. **С помощью утилиты JConsole провести мониторинг программы:**
   - Снять показания MBean-классов, разработанных в ходе выполнения задания 1.  
   - Определить имена всех потоков, выполняющихся при запуске программы.

3. **С помощью утилиты VisualVM провести мониторинг и профилирование программы:**
   - Снятие графика изменения показаний MBean-классов, разработанных в ходе выполнения задания 1, с течением времени.  
   - Определить имя потока, потребляющего наибольший процент времени CPU.

4. **С помощью утилиты VisualVM и профилировщика IDE (NetBeans, Eclipse или IntelliJ IDEA) локализовать и устранить проблемы с производительностью в программе.**  
   По результатам локализации и устранения проблемы необходимо составить отчёт, в котором должна содержаться следующая информация:
   - Описание выявленной проблемы.  
   - Описание путей устранения выявленной проблемы.  
   - Подробное (со скриншотами) описание алгоритма действий, который позволил выявить и локализовать проблему.

## Запуск приложения

### Требования
- Java 17 или выше
- Maven

### Сборка и запуск

1. Убедитесь, что Maven установлен:
```bash
mvn -v
```

2. Запустите приложение с помощью Maven:
```bash
mvn wildfly:dev
```

3. Приложение будет доступно по адресу:
- http://localhost:8080/app

## Инструкции по мониторингу и профилированию

- [Инструкция по работе с JConsole](jconsole-instructions.md)
- [Инструкция по работе с VisualVM](visualvm-instructions.md)

### Мониторинг JMX и MBean

Для мониторинга MBean-объектов используйте JConsole:

1. Запустите JConsole:
```bash
jconsole
```

2. В диалоговом окне подключения выберите процесс Java, в котором запущено приложение.

3. После подключения перейдите на вкладку MBeans.

## Работа с MBean-объектами

В приложении реализованы следующие MBean-объекты:

1. **PointStatisticsMBean** - подсчитывает общее число точек и число точек, попадающих в область, отправляет уведомления при 4-х промахах подряд
2. **ClickIntervalMBean** - определяет средний интервал между кликами пользователя по координатной плоскости

Подробные инструкции по работе с JConsole можно найти в файле [jconsole-instructions.md](jconsole-instructions.md) 